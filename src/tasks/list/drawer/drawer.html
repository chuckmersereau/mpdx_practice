<div class="head">
    <div class="horizontal-tab-sortable">
        <div class="sortable-row">
            <div ng-class="{ 'active-item': $ctrl.view === 'contacts'}" class="as-sortable-item">
                <a class="as-sortable-item-handle" ng-click="$ctrl.view = 'contacts'">Contacts</a>
            </div>
            <div ng-class="{ 'active-item': $ctrl.view === 'comments'}" class="as-sortable-item">
                <a class="as-sortable-item-handle" ng-click="$ctrl.view = 'comments'">Comments</a>
            </div>
        </div>
    </div>
    <div class="task-info">
        <h2 class="text-primary">{{ $ctrl.task.activity_type | translate }} {{$ctrl.task.subject}}</h2>
    </div>
</div>
<div class="contacts am-fade" ng-if="$ctrl.view === 'contacts' && $ctrl.loaded">
    <task-list-contact ng-repeat="contact in $ctrl.task.contacts track by contact.id"
                       contact="contact"
                       loaded="$ctrl.loaded">
    </task-list-contact>
</div>
<div class="comments am-fade" ng-if="$ctrl.view === 'comments' && $ctrl.loaded">
    <task-item-comment ng-repeat="comment in $ctrl.task.comments"
                       comment="comment"
                       on-comment-remove="$ctrl.commentRemoved(comment.id)"
                       task-id="$ctrl.task.id">
    </task-item-comment>
    <div class="bottom">
        <form class="form-inline" ng-submit="$ctrl.addComment()" novalidate>
            <i class="far fa-comment"></i>
            <input type="text"
                   class="form-control"
                   ng-model="$ctrl.comment"
                   placeholder="{{ 'Add a comment' | translate }}"
                   required>
        </form>
    </div>
</div>
