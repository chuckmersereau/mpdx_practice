<div class="panel panel-default">
    <div class="panel-heading">
        <a class="btn btn-secondary btn-xs pull-right" ng-click="$ctrl.addTask()">
            <translate>Add a New Task</translate>
        </a>
        <translate>Connect</translate>
    </div>
    <div class="panel-body">
        <h4 class="title" translate>
            <a ui-sref="tasks" translate>
                {{$ctrl.total()}} Tasks overdue or due today
            </a>
        </h4>
        <ul class="plain-list">
            <li ng-repeat="task in $ctrl.tasksService.analytics.tasks_overdue_or_due_today_counts | orderBy: 'count' : true | limitTo: $ctrl.limit" ng-if="task.count > 0">
                <a ui-sref="tasks({ filters: { activity_type: task.label } })">
                    <span class="count">{{ task.count }}</span>
                    {{ task.label }}
                </a>
            </li>
            <li ng-if="$ctrl.limit < $ctrl.tasksService.analytics.tasks_overdue_or_due_today_counts.length">
                <a ng-click="$ctrl.limit = $ctrl.tasksService.analytics.tasks_overdue_or_due_today_counts.length">
                    <i class="fa fa-plus-square-o"></i>
                    <translate translate-n="$ctrl.total()" translate-plural="See all {{$ctrl.tasksService.analytics.tasks_overdue_or_due_today_counts.length}} task types">See 1 task type</translate>
                </a>
            </li>
        </ul>
    </div>
</div>
